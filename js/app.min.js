(()=>{"use strict";const e=e=>{document.querySelectorAll(e).forEach((e=>{e.addEventListener("click",(()=>{const t=e.parentElement;t.classList.toggle("active"),t.classList.contains("active")?e.nextElementSibling.style.cssText=`\n\t\t\t\t\theight: ${e.nextElementSibling.scrollHeight}px;\n\t\t\t\t`:e.nextElementSibling.style.cssText="\t\n\t\t\t\t\theight: 0;\n\t\t\t\t\tpadding: 0;\n\t\t\t\t\tborder: 0px;\n\t\t\t\t"}))}))};!function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),function(){const e=document.querySelector(".header");document.querySelector(".icon-menu").addEventListener("click",(()=>{e.classList.contains("_active")?(e.classList.remove("_active"),document.body.style.overflow=""):(e.classList.add("_active"),document.body.style.overflow="hidden")}))}(),e("[data-spoller-trigger]"),e("[data-spoller-footer]"),((e,t)=>{const i=document.querySelectorAll(e),s=document.querySelectorAll(t);i.forEach(((e,t)=>{e.addEventListener("click",(e=>{e.preventDefault(),i.forEach((e=>{e.classList.remove("_active")})),s.forEach((e=>{e.classList.remove("_active")})),function(e=0){i[e].classList.add("_active"),s[e].classList.add("_active")}(t)}))}))})(".list-info__item",".cards-content__item"),new class{constructor(e){this.type=e}init(){this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=[...document.querySelectorAll("[data-da]")],this.nodes.forEach((e=>{const t=e.dataset.da.trim().split(","),i={};i.element=e,i.parent=e.parentNode,i.destination=document.querySelector(`${t[0].trim()}`),i.breakpoint=t[1]?t[1].trim():"767",i.place=t[2]?t[2].trim():"last",i.index=this.indexInParent(i.parent,i.element),this.оbjects.push(i)})),this.arraySort(this.оbjects),this.mediaQueries=this.оbjects.map((({breakpoint:e})=>`(${this.type}-width: ${e}px),${e}`)).filter(((e,t,i)=>i.indexOf(e)===t)),this.mediaQueries.forEach((e=>{const t=e.split(","),i=window.matchMedia(t[0]),s=t[1],a=this.оbjects.filter((({breakpoint:e})=>e===s));i.addEventListener("change",(()=>{this.mediaHandler(i,a)})),this.mediaHandler(i,a)}))}mediaHandler(e,t){e.matches?t.forEach((e=>{this.moveTo(e.place,e.element,e.destination)})):t.forEach((({parent:e,element:t,index:i})=>{t.classList.contains(this.daClassname)&&this.moveBack(e,t,i)}))}moveTo(e,t,i){t.classList.add(this.daClassname),"last"===e||e>=i.children.length?i.append(t):"first"!==e?i.children[e].before(t):i.prepend(t)}moveBack(e,t,i){t.classList.remove(this.daClassname),void 0!==e.children[i]?e.children[i].before(t):e.append(t)}indexInParent(e,t){return[...e.children].indexOf(t)}arraySort(e){"min"===this.type?e.sort(((e,t)=>e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:0:e.breakpoint-t.breakpoint)):e.sort(((e,t)=>e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:0:t.breakpoint-e.breakpoint))}}("max").init(),(e=>{const t=document.querySelectorAll("form"),i=document.querySelectorAll("input"),s=document.querySelector("form > button");t.forEach((e=>{e.addEventListener("submit",(t=>{t.preventDefault();let a=document.createElement("div");a.classList.add("status"),e.appendChild(a),(async(e,t)=>{s.setAttribute("disabled",!0),document.querySelector(".block-loading").style.display="block";let i=await fetch("files/mail.php",{method:"POST",body:t});return await i.text()})(0,new FormData(e)).then((e=>{console.log(e),document.querySelector(".block-loading").style.display="none",a.textContent="Спасибо! Скоро мы с вами свяжемся",s.removeAttribute("disabled")})).catch((()=>a.textContent="Что-то пошло не так...")).finally((()=>{i.forEach((e=>{e.value=""})),setTimeout((()=>{a.remove()}),2e3)}))}))}))})();try{new Swiper(".popular__swiper",{equalHeight:!0,loop:!0,breakpoints:{240:{spaceBetween:15,slidesPerView:1},400:{spaceBetween:15,slidesPerView:1.4},500:{spaceBetween:15,slidesPerView:2},767:{spaceBetween:20,slidesPerView:3},992:{spaceBetween:30,slidesPerView:4}},navigation:{nextEl:".swiper-popular-right",prevEl:".swiper-popular-left"},on:{allSlideActive:a}}).on("slideChange",a)}catch(r){}try{new Swiper(".main-block__swiper ",{spaceBetween:30,equalHeight:!0,slidesPerView:1,loop:!0,speed:1e3,autoplay:{delay:3e3,stopOnLastSlide:!0,disableOnInteraction:!1},pagination:{el:".main-block__pagination",type:"bullets"}})}catch(o){}try{new Swiper(".main-block-card__swiper",{breakpoints:{240:{slidesPerView:1},500:{spaceBetween:15,slidesPerView:2},767:{spaceBetween:20,slidesPerView:3},992:{spaceBetween:0,slidesPerView:1}},speed:1e3,loop:!0,autoplay:{delay:3e3,stopOnLastSlide:!0,disableOnInteraction:!1}})}catch(c){}function t(e,t,i){var s,a,l,n,r,o;window.innerWidth<1e4?(n=e,r=t,o=i,document.querySelector(n).classList.add("swiper"),document.querySelector(r).classList.add("swiper-wrapper"),document.querySelectorAll(o).forEach((e=>{e.classList.add("swiper-slide"),e.style.cssText=" width: auto; "})),new Swiper(e,{keyboard:{enabled:!0,onlyInViewport:!0,pageUpDown:!0},spaceBetween:10,speed:1e3,slidesPerGroup:1,slidesPerView:"auto"})):(s=e,a=t,l=i,document.querySelector(s).classList.remove("swiper"),document.querySelector(a).classList.remove("swiper-wrapper"),document.querySelectorAll(l).forEach((e=>{e.classList.remove("swiper-slide"),e.style.cssText=" "})))}if(document.documentElement.classList.contains("cards")){try{window.addEventListener("resize",(()=>{t(".cards__slider",".cards__list-info",".list-info__item")})),t(".cards__slider",".cards__list-info",".list-info__item")}catch(d){}try{window.addEventListener("resize",(()=>{t(".popular__filters-2",".popular__filter-list-2",".popular__filter-item-2")})),t(".popular__filters-2",".popular__filter-list-2",".popular__filter-item-2")}catch(p){}}if(document.documentElement.classList.contains("home"))try{window.addEventListener("resize",(()=>{t(".popular__filters-1",".popular__filter-list-1",".popular__filter-item-1")})),t(".popular__filters-1",".popular__filter-list-1",".popular__filter-item-1")}catch(u){}try{const m=document.querySelectorAll(".filter-range__slider input"),h=document.querySelector(".progress");let f=1e3,w=document.querySelector(".max-range"),_=document.querySelector(".min-range");m.forEach((e=>{e.addEventListener("input",(e=>{let t=+parseInt(m[0].value),i=+parseInt(m[1].value);w.textContent=` ${i} `,_.textContent=`от ${t} `,i-t<f?"range-min"===e.target.className?m[0].value=i-f:m[1].value=t+f:(h.style.left=t/m[0].max*100+"%",h.style.right=100-i/m[1].max*100+"%")}))}))}catch(y){}const i=document.querySelectorAll(".card-item__like");i.length>0&&i.forEach((e=>{e.addEventListener("click",(function(){this.classList.toggle("_active")}))})),function(){const e=document.querySelectorAll("[data-filter]"),t=document.querySelectorAll("[data-content]");e.forEach((e=>{e.addEventListener("click",(i=>{document.querySelectorAll("[data-filter]").forEach((e=>{e.classList.remove("_active"),e==i.target&&e.classList.add("_active")}));const s=e.dataset.filter;"all"==s?t.forEach((e=>{e.style.display="block"})):t.forEach((e=>{e.style.display="none",e.dataset.content==s&&(e.style.display="block")}))}))}))}();const s=document.querySelectorAll(".popular__swiper-slide");function a(){const e=document.querySelectorAll("[data-slides]");s.forEach((t=>{t.classList.contains("swiper-slide-active")&&e.forEach((e=>{e.classList.remove("_active"),e.dataset.slides==t.dataset.slide&&e.classList.add("_active")}))}))}a();const l=document.querySelectorAll(".search__btn-filter");l.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault(),l.forEach((e=>{e.classList.remove("_active")})),e==t.target&&e.classList.add("_active")}))}));const n=document.querySelectorAll("._anim-item");if(n.length>0){function v(){for(let e=0;e<n.length;e++){const t=n[e],i=g(t).top,s=t.scrollHeight,a=4;let l=window.innerHeight-s/a;window.innerHeight>s&&(l=window.innerHeight-s/a),scrollY>i-l&&scrollY<i+s?t.classList.add("_start-anim"):t.classList.remove("_start-anim")}}function g(e){const t=e.getBoundingClientRect(),i=window.pageXOffset||document.documentElement.scrollLeft,s=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+s,left:t.left+i}}window.addEventListener("scroll",v),setTimeout((()=>{v()}),300)}})();